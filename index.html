<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: radial-gradient(circle, #1a2a6c, #b21f1f, #fdbb2d); background-size: 400% 400%; animation: gradient 15s ease infinite; color: white; text-align: center; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; height: 100vh; margin: 0; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        @keyframes gradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .wheel-box { position: relative; width: 320px; height: 320px; border: 10px solid gold; border-radius: 50%; box-shadow: 0 0 50px rgba(255, 215, 0, 0.5), inset 0 0 20px rgba(0,0,0,0.5); background: #222; }
        #wheel { width: 100%; height: 100%; transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1); }
        .pointer { position: absolute; top: -20px; left: 50%; transform: translateX(-50%); width: 40px; z-index: 100; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5)); }
        .spin-btn { margin-top: 30px; padding: 15px 40px; font-size: 22px; font-weight: bold; color: #1a2a6c; background: linear-gradient(to bottom, #ffd700, #ffae00); border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: 0.3s; }
        .spin-btn:active { transform: scale(0.95); }
        .spin-btn:disabled { background: #888; color: #444; }
    </style>
</head>
<body>
    <h2 style="text-shadow: 2px 2px 10px rgba(0,0,0,0.5);">ðŸ’Ž Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø§Ù„Ù…Ù„ÙƒÙŠØ© ðŸ’Ž</h2>
    <div class="wheel-box">
        <img src="https://cdn-icons-png.flaticon.com/512/8212/8212733.png" class="pointer">
        <canvas id="wheel" width="500" height="500"></canvas>
    </div>
    <button id="spinBtn" class="spin-btn">Ø¥Ø¶ØºØ· ÙˆØ¬Ø±Ø¨ Ø­Ø¸Ùƒ!</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const prizes = [
            {n: "5,000", c: "#1e3799"}, {n: "0", c: "#2c3e50"},
            {n: "10,000", c: "#eb4d4b"}, {n: "0", c: "#2c3e50"},
            {n: "50,000", c: "#f0932b"}, {n: "Ø­Ø¸ Ø³ÙŠØ¡", c: "#2c3e50"}
        ];
        
        function draw() {
            const arc = (Math.PI * 2) / prizes.length;
            prizes.forEach((p, i) => {
                ctx.beginPath();
                ctx.fillStyle = p.c;
                ctx.moveTo(250, 250);
                ctx.arc(250, 250, 250, i * arc, (i + 1) * arc);
                ctx.fill();
                ctx.save();
                ctx.translate(250, 250);
                ctx.rotate(i * arc + arc / 2);
                ctx.fillStyle = "white";
                ctx.font = "bold 30px Arial";
                ctx.fillText(p.n, 100, 10);
                ctx.restore();
            });
        }
        draw();

        document.getElementById('spinBtn').onclick = function() {
            this.disabled = true;
            const rand = Math.floor(Math.random() * 360) + 3600;
            canvas.style.transform = `rotate(${rand}deg)`;
            
            setTimeout(() => {
                const actualDeg = rand % 360;
                const index = Math.floor((360 - actualDeg) / 60) % 6;
                const result = prizes[index].n;
                tg.sendData(result);
            }, 4500);
        };
    </script>
</body>
</html>
